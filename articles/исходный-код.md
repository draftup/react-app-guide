# Исходный код

**Исходным кодом** проекта называют набор файлов, содержащих в том числе программный код приложения, из которых можно получить итоговый продукт.

Исходный код, как правило, располагается в папке `/src` вашего проекта. Исходный код современных frontend-приложений (в том числе и React-приложений) собирается в итоговый продукт при помощи приложений-сборщиков. 

### Точка входа

Для начала сборки необходимо указать путь к **точке входа** - специальному файлу, который прямо и опосредованно ссылается на другие файлы проекта и таким образом включает в себя все необходимые части приложения.

В мире frontent-проложений в качестве точки входа часто вытупает `src/index.js` файл.

## Модули

- [Компонент](./исходный-код/компонент.md)
- [Контекст](./исходный-код/контекст.md)
- [Конструктор](./исходный-код/конструктор.md)
- [Нормализатор](./исходный-код/нормализатор.md)
- [Редюсер](./исходный-код/редюсер.md)
- [Селектор](./исходный-код/селектор.md)
- [Сервисный метод](./исходный-код/сервисный-метод.md)

## Файловая система

Файлы модулей можно группировать по разному принципу.

### Группировка по функциональной принадлежности

```
- src
--- adapters
----- mockAdapter
------- normalizers
------- mockAdapter.js
------- index.js
----- prodAdapter
--- presentors
----- controls
------- Button
--------- Button.css
--------- Button.jsx
--------- index.js
------- Input
------- Link
------- Form
----- layouts
------- WindowLayout
------- FieldsetLayout
----- design
------- Card
------- Overlay
------- Popup
--- containers
----- user
------- UserAuthForm
--------- types
----------- event.js
--------- UserAuthForm.jsx
------- UserAuthScreen
------- UserRegistrationForm
------- UserRegistrationScreen
--- modifiers
----- taskModifier.js
----- userModifier.js
----- appModifier.js
--- selectors
----- useTask.js
----- useUser.js
--- types
----- taskTypes.js
----- userTypes.js
----- appTypes.js
--- app
----- reducers
------- appReducer.js
------- userReducer.js
----- hooks
------- useAppState.js
------- useAppDispatch.js
----- contexts
------- AppStateContext.js
------- AppDispatchContext.js
------- ServiceAdapterContext.js
----- providers
------- StoreProvider.js
----- App.js
--- index.js
```

Плюсы подхода:
- простая ментальная модель позволяет легко ориентироваться в исходном коде;
- одноуровневая вложенность позволяет быстрее добраться до нужного модуля;
- одноуровневая вложенность избавляет от длинных import'ов;

Минусы подхода:
- неравномерная масштабируемость, когда одна папка может содержать один единственный файл и не меняться годами, в то время как другая папка будет регулярно наполняться файлами;

### Группировка по слоям (WIP)

Слой - архитектурнная абстракция, объединяющая компоненты приложения, обспеспечивающих выполнение ?.

#### Слой сервисов (service layer)

Сервисный слой отвечает за обмен данными с внешними источниками. Например, за отправку данных формы на сервер или за обращение к Geolocation API.

```
- service
--- adapters
----- adapter1
----- adapter2
------- methods
------- normalizers
------- types
------- adapter2.js
----- controllers
------- useUserService.js
------- useTaskService.js
--- useServiceLayer.js
```

### Слой отображения (view layer)

Слой отображения отвечает за приведение доменного состояния к состоянию пользовательского интерфейса а также отрисовку этого интерфейса.

```
- view
--- presentors
----- controls
------- Button1
--------- Button1.css
--------- Button1.jsx
--------- index.js
------- Input1
----- layouts
------- Layout1
--- containers
----- user
------- UserAuthForm
--------- types
--------- UserAuthForm.jsx
--------- UserAuthFormView.jsx
------- UserAuthScreen
------- UserRegistrationForm
------- UserRegistrationScreen
```

### Слой поведения (behavior layer)

Слой поведения отвечает за изменение состояния предметной области в ответ на события из других слоев.

```
- behavior
--- types
----- taskTypes.js
----- userTypes.js
----- utilityTypes.js
--- reducers
----- rootReducer.js
----- userReducer.js
----- tasksReducer.js
--- modifiers
----- taskModifier.js
----- userModifier.js
----- collectionModifier.js
--- selectors
----- userSelector.js
----- taskSelector.js
```

## Группировка по предметной области

### Проблемная предметная область